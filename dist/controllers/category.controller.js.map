{"version":3,"sources":["../../src/controllers/category.controller.ts"],"sourcesContent":["import CategoryAssocService from '@/services/category/category.assoc.service';\nimport CategoryService from '@/services/category/category.service';\nimport { Request, Response } from 'express';\nexport default class CategoryController {\n  // add assoc\n\n  static async AddAssoc(req: Request, res: Response) {\n    let data = req.body;\n    if (data.type != 'movie' && data.type != 'series') {\n      return res.status(400).json({\n        message: 'invalid type!',\n      });\n    }\n    try {\n      let add = await CategoryAssocService.AddAssoc(data);\n      res.status(200).json(add);\n    } catch (e) {\n      console.log('err', e);\n\n      res.status(500).json({\n        message: e.toString(),\n      });\n    }\n  }\n\n  static async getAllAssoc(req: Request, res: Response) {\n    let get = await CategoryAssocService.getAll();\n    res.status(200).json(get);\n  }\n\n  static async deleteAssoc(req: Request, res: Response) {\n    let id = req.params.id;\n    try {\n      let del = await CategoryAssocService.delete(id);\n      res.status(200).json({\n        message: 'deleted',\n      });\n    } catch (error) {\n      res.status(500).json({\n        message: error.toString(),\n      });\n    }\n  }\n\n  static async updateAssoc(req: Request, res: Response) {\n    let body = req.body;\n    try {\n      let update = await CategoryAssocService.update(body);\n      res.status(200).json(update);\n    } catch (error) {\n      res.status(500).json({\n        message: error.toString(),\n      });\n    }\n  }\n  static async createCategory(req: Request, res: Response) {\n    try {\n      const { name } = req.body;\n      const category = await CategoryService.createCategory(name);\n      res.status(201).json(category);\n    } catch (err) {\n      if (err.message === 'Category already exists') {\n        res.status(409).json({ message: err.message });\n      } else {\n        res.status(500).json({ message: 'Something went wrong' });\n      }\n    }\n  }\n  static async getAllCategories(req: Request, res: Response) {\n    const categories = await CategoryService.getAllCategories();\n    res.status(200).json(categories);\n  }\n  static async getCategoryById(req: Request, res: Response) {\n    const { id } = req.params;\n    const category = await CategoryService.getCategoryById(id);\n    if (category) {\n      res.status(200).json(category);\n    } else {\n      res.status(404).json({ message: 'Category not found' });\n    }\n  }\n  static async updateCategory(req: Request, res: Response) {\n    try {\n      const { id } = req.params;\n      const { name } = req.body;\n      const category = await CategoryService.updateCategory(id, name);\n      res.status(200).json(category);\n    } catch (err) {\n      if (err.message === 'Category already exists') {\n        res.status(409).json({ message: err.message });\n      } else {\n        res.status(500).json({ message: 'Something went wrong' });\n      }\n    }\n  }\n  static async deleteCategory(req: Request, res: Response) {\n    try {\n      const { id } = req.params;\n      await CategoryService.deleteCategory(id);\n      res.status(200).json({ message: 'Category deleted' });\n    } catch (err) {\n      res.status(500).json({ message: 'Something went wrong' });\n    }\n  }\n}\n"],"names":["CategoryController","AddAssoc","req","res","data","body","type","status","json","message","add","CategoryAssocService","e","console","log","toString","getAllAssoc","get","getAll","deleteAssoc","id","params","del","delete","error","updateAssoc","update","createCategory","name","category","CategoryService","err","getAllCategories","categories","getCategoryById","updateCategory","deleteCategory"],"mappings":"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"}