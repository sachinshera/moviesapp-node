{"version":3,"sources":["../../../src/controllers/movies/movies.controller.ts"],"sourcesContent":["// express\n\nimport CategoryAssocService from '@/services/category/category.assoc.service';\nimport GenresAssocService from '@/services/genres/genres.assoc.service';\nimport MoviesService from '@/services/movies/movies.service';\nimport { Request, Response } from 'express';\nexport default class MoviesController {\n  // add new\n  public async addMovie(req: Request, res: Response) {\n    try {\n      const movie = await MoviesService.addMovie(req.body);\n\n      res.status(200).json(movie);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n  //get all movies\n  public async getAllMovies(req: Request, res: Response) {\n    try {\n      const movies = await MoviesService.getAllMovies();\n      res.status(200).json(movies);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n\n  // get movie by id\n  public async getMovieById(req: Request, res: Response) {\n    try {\n      const movie = await MoviesService.getMovieById(req.params.id);\n      res.status(200).json(movie);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n\n  // update movie\n\n  public async updateMovie(req: Request, res: Response) {\n    try {\n      const movie = await MoviesService.updateMovie(req.params.id, req.body);\n      res.status(200).json(movie);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n\n  // delete movie\n\n  public async deleteMovie(req: Request, res: Response) {\n    try {\n      const movie = await MoviesService.deleteMovie(req.params.id);\n      res.status(200).json(movie);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n\n  // get movies by genres id\n\n  public async getMoviesByGenresId(req: Request, res: Response) {\n    try {\n      let id = req.params.id as string;\n      const movies = await GenresAssocService.getMoviesByGenreId(id);\n      res.status(200).json(movies);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n\n  /// get movies by category id\n\n  public async getMoviesByCategoryId(req: Request, res: Response) {\n    try {\n      let id = req.params.id as string;\n      const movies = await CategoryAssocService.getMoviesByCategoryId(id);\n      res.status(200).json(movies);\n    } catch (error) {\n      if (error.message) {\n        res.status(400).json({ message: error.message });\n      } else {\n        res.status(500).json({ message: 'Internal server error' });\n      }\n    }\n  }\n}\n"],"names":["MoviesController","addMovie","req","res","movie","MoviesService","body","status","json","error","message","getAllMovies","movies","getMovieById","params","id","updateMovie","deleteMovie","getMoviesByGenresId","GenresAssocService","getMoviesByGenreId","getMoviesByCategoryId","CategoryAssocService"],"mappings":"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"}