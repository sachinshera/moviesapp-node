{"version":3,"sources":["../../../src/controllers/series/series.season.video.controller.ts"],"sourcesContent":["import SeriesSeasonVideoService from '@/services/series/series.season.video.service';\nimport { Request, Response } from 'express';\n\nexport class SeriesSeasonVideoController {\n  // add new video to season\n  public static async addVideoToSeason(req: Request, res: Response) {\n    try {\n      const seriesId = req.params.seriesId;\n      const seasonId = req.params.seasonId;\n      const addVideoToSeason = await SeriesSeasonVideoService.addVideoToSeason(seriesId, seasonId, req.body);\n      return res.status(200).json(addVideoToSeason);\n    } catch (err) {\n      console.log(err);\n      if (err.message == 'Season not found') {\n        res.status(400).json({\n          message: 'Season not found',\n        });\n      }\n      if (err.message == 'Video already exists') {\n        res.status(400).json({\n          message: 'Video already exists',\n        });\n      } else {\n        res.status(500).send('Internal Server Error');\n      }\n    }\n  }\n\n  //get all videos in season\n  public static async getAllVideosInSeason(req: Request, res: Response) {\n    try {\n      const seriesId = req.params.seriesId;\n      const seasonId = req.params.seasonId;\n      const getAllVideosInSeason = await SeriesSeasonVideoService.getAllVideosInSeason(seriesId, seasonId);\n      res.send(getAllVideosInSeason);\n    } catch (err) {\n      res.status(500).send('Internal Server Error');\n    }\n  }\n\n  //   update\n  public static async updateVideoInSeason(req: Request, res: Response) {\n    try {\n      const seriesId = req.params.seriesId;\n      const seasonId = req.params.seasonId;\n      const videoId = req.params.videoId;\n      const updateVideoInSeason = await SeriesSeasonVideoService.updateVideoInSeason(seriesId, seasonId, videoId, req.body);\n      res.send(updateVideoInSeason);\n    } catch (err) {\n      res.status(500).send('Internal Server Error');\n    }\n  }\n\n  //   delete\n  public static async deleteVideoInSeason(req: Request, res: Response) {\n    try {\n      const seriesId = req.params.seriesId;\n      const seasonId = req.params.seasonId;\n      const videoId = req.params.videoId;\n      const deleteVideoInSeason = await SeriesSeasonVideoService.deleteVideoFromSeason(seriesId, seasonId, videoId);\n      res.send(deleteVideoInSeason);\n    } catch (err) {\n      res.status(500).send('Internal Server Error');\n    }\n  }\n}\n\nexport default SeriesSeasonVideoController;\n"],"names":["SeriesSeasonVideoController","addVideoToSeason","req","res","seriesId","params","seasonId","SeriesSeasonVideoService","body","status","json","err","console","log","message","send","getAllVideosInSeason","updateVideoInSeason","videoId","deleteVideoInSeason","deleteVideoFromSeason"],"mappings":";;;;;;;;;;;IAGaA,2BAA2B;eAA3BA;;IAgEb,OAA2C;eAA3C;;;mEAnEqC;;;;;;AAG9B,IAAA,AAAMA,8BAAN,MAAMA;IAEX,aAAoBC,iBAAiBC,GAAY,EAAEC,GAAa,EAAE;QAChE,IAAI;YACF,MAAMC,WAAWF,IAAIG,MAAM,CAACD,QAAQ;YACpC,MAAME,WAAWJ,IAAIG,MAAM,CAACC,QAAQ;YACpC,MAAML,mBAAmB,MAAMM,iCAAwB,CAACN,gBAAgB,CAACG,UAAUE,UAAUJ,IAAIM,IAAI;YACrG,OAAOL,IAAIM,MAAM,CAAC,KAAKC,IAAI,CAACT;QAC9B,EAAE,OAAOU,KAAK;YACZC,QAAQC,GAAG,CAACF;YACZ,IAAIA,IAAIG,OAAO,IAAI,oBAAoB;gBACrCX,IAAIM,MAAM,CAAC,KAAKC,IAAI,CAAC;oBACnBI,SAAS;gBACX;YACF,CAAC;YACD,IAAIH,IAAIG,OAAO,IAAI,wBAAwB;gBACzCX,IAAIM,MAAM,CAAC,KAAKC,IAAI,CAAC;oBACnBI,SAAS;gBACX;YACF,OAAO;gBACLX,IAAIM,MAAM,CAAC,KAAKM,IAAI,CAAC;YACvB,CAAC;QACH;IACF;IAGA,aAAoBC,qBAAqBd,GAAY,EAAEC,GAAa,EAAE;QACpE,IAAI;YACF,MAAMC,WAAWF,IAAIG,MAAM,CAACD,QAAQ;YACpC,MAAME,WAAWJ,IAAIG,MAAM,CAACC,QAAQ;YACpC,MAAMU,uBAAuB,MAAMT,iCAAwB,CAACS,oBAAoB,CAACZ,UAAUE;YAC3FH,IAAIY,IAAI,CAACC;QACX,EAAE,OAAOL,KAAK;YACZR,IAAIM,MAAM,CAAC,KAAKM,IAAI,CAAC;QACvB;IACF;IAGA,aAAoBE,oBAAoBf,GAAY,EAAEC,GAAa,EAAE;QACnE,IAAI;YACF,MAAMC,WAAWF,IAAIG,MAAM,CAACD,QAAQ;YACpC,MAAME,WAAWJ,IAAIG,MAAM,CAACC,QAAQ;YACpC,MAAMY,UAAUhB,IAAIG,MAAM,CAACa,OAAO;YAClC,MAAMD,sBAAsB,MAAMV,iCAAwB,CAACU,mBAAmB,CAACb,UAAUE,UAAUY,SAAShB,IAAIM,IAAI;YACpHL,IAAIY,IAAI,CAACE;QACX,EAAE,OAAON,KAAK;YACZR,IAAIM,MAAM,CAAC,KAAKM,IAAI,CAAC;QACvB;IACF;IAGA,aAAoBI,oBAAoBjB,GAAY,EAAEC,GAAa,EAAE;QACnE,IAAI;YACF,MAAMC,WAAWF,IAAIG,MAAM,CAACD,QAAQ;YACpC,MAAME,WAAWJ,IAAIG,MAAM,CAACC,QAAQ;YACpC,MAAMY,UAAUhB,IAAIG,MAAM,CAACa,OAAO;YAClC,MAAMC,sBAAsB,MAAMZ,iCAAwB,CAACa,qBAAqB,CAAChB,UAAUE,UAAUY;YACrGf,IAAIY,IAAI,CAACI;QACX,EAAE,OAAOR,KAAK;YACZR,IAAIM,MAAM,CAAC,KAAKM,IAAI,CAAC;QACvB;IACF;AACF;MAEA,WAAef"}