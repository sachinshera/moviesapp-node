{"version":3,"sources":["../../src/services/login.service.ts"],"sourcesContent":["import { AdminUserModel } from '@/models/admin.user.model';\nimport { TokenService } from './token.service';\nexport class LoginServie {\n  public static async login(username: string, password: string) {\n    const findUser: any = await AdminUserModel.findOne({\n      where: {\n        username: username,\n        password: password,\n      },\n    });\n    if (findUser) {\n      // delete privous tokens\n      await TokenService.removeAllTokensByUserId(username);\n      const token = await TokenService.gererateToken(username);\n      if (token) {\n        return token;\n      } else {\n        return 'error in token generation';\n      }\n    } else {\n      return 'user not found';\n    }\n  }\n}\n"],"names":["LoginServie","login","username","password","findUser","AdminUserModel","findOne","where","TokenService","removeAllTokensByUserId","token","gererateToken"],"mappings":";;;;+BAEaA;;;eAAAA;;;gCAFkB;8BACF;AACtB,IAAA,AAAMA,cAAN,MAAMA;IACX,aAAoBC,MAAMC,QAAgB,EAAEC,QAAgB,EAAE;QAC5D,MAAMC,WAAgB,MAAMC,8BAAc,CAACC,OAAO,CAAC;YACjDC,OAAO;gBACLL,UAAUA;gBACVC,UAAUA;YACZ;QACF;QACA,IAAIC,UAAU;YAEZ,MAAMI,0BAAY,CAACC,uBAAuB,CAACP;YAC3C,MAAMQ,QAAQ,MAAMF,0BAAY,CAACG,aAAa,CAACT;YAC/C,IAAIQ,OAAO;gBACT,OAAOA;YACT,OAAO;gBACL,OAAO;YACT,CAAC;QACH,OAAO;YACL,OAAO;QACT,CAAC;IACH;AACF"}