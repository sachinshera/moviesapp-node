{"version":3,"sources":["../../../src/services/trailer/trailer.service.ts"],"sourcesContent":["import { TrailerModel } from '@/models/trailer/trailer.model';\nimport { nanoid } from 'nanoid';\n\nexport default class TrailerService {\n  // get all trailers\n  static async getAllTrailers() {\n    const trailers = await TrailerModel.findAll();\n    return trailers ? trailers : [];\n  }\n  static async createTrailer(data: TrailerModel) {\n    try {\n      const trailer = await TrailerModel.create({\n        id: nanoid(),\n        ...data,\n      });\n      return trailer;\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  static async getTrailerByMovieId(movieId: string) {\n    const trailer = await TrailerModel.findOne({\n      where: {\n        movies_series_id: movieId,\n      },\n    });\n    return trailer;\n  }\n\n  static async getTrailerBySeriesId(seriesId: string) {\n    const trailer = await TrailerModel.findOne({\n      where: {\n        movies_series_id: seriesId,\n      },\n    });\n    return trailer;\n  }\n\n  static async updateTrailerByMovieId(movieId: string, data: TrailerModel) {\n    const { url, quality } = data;\n    const trailer = await TrailerModel.update(\n      {\n        url,\n        quality,\n      },\n      {\n        where: {\n          movies_series_id: movieId,\n        },\n      },\n    );\n    return trailer;\n  }\n\n  static async updateTrailerBySeriesId(seriesId: string, data: any) {\n    const { url, quality } = data;\n    const trailer = await TrailerModel.update(\n      {\n        url,\n        quality,\n      },\n      {\n        where: {\n          movies_series_id: seriesId,\n        },\n      },\n    );\n    return trailer;\n  }\n\n  static async deleteTrailerByMovieId(movieId: string) {\n    const trailer = await TrailerModel.destroy({\n      where: {\n        movies_series_id: movieId,\n      },\n    });\n    return trailer;\n  }\n\n  static async deleteTrailerBySeriesId(seriesId: string) {\n    const trailer = await TrailerModel.destroy({\n      where: {\n        movies_series_id: seriesId,\n      },\n    });\n    return trailer;\n  }\n\n  // delete trailer by id\n\n  static async deleteTrailerById(id: string) {\n    const trailer = await TrailerModel.destroy({\n      where: {\n        id,\n      },\n    });\n    return trailer;\n  }\n}\n"],"names":["TrailerService","getAllTrailers","trailers","TrailerModel","findAll","createTrailer","data","trailer","create","id","nanoid","err","console","log","getTrailerByMovieId","movieId","findOne","where","movies_series_id","getTrailerBySeriesId","seriesId","updateTrailerByMovieId","url","quality","update","updateTrailerBySeriesId","deleteTrailerByMovieId","destroy","deleteTrailerBySeriesId","deleteTrailerById"],"mappings":";;;;;;;eAGqBA;;;8BAHQ;wBACN;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAER,IAAA,AAAMA,iBAAN,MAAMA;IAEnB,aAAaC,iBAAiB;QAC5B,MAAMC,WAAW,MAAMC,0BAAY,CAACC,OAAO;QAC3C,OAAOF,WAAWA,WAAW,EAAE;IACjC;IACA,aAAaG,cAAcC,IAAkB,EAAE;QAC7C,IAAI;YACF,MAAMC,UAAU,MAAMJ,0BAAY,CAACK,MAAM,CAAC;gBACxCC,IAAIC,IAAAA,cAAM;eACPJ;YAEL,OAAOC;QACT,EAAE,OAAOI,KAAK;YACZC,QAAQC,GAAG,CAACF;QACd;IACF;IAEA,aAAaG,oBAAoBC,OAAe,EAAE;QAChD,MAAMR,UAAU,MAAMJ,0BAAY,CAACa,OAAO,CAAC;YACzCC,OAAO;gBACLC,kBAAkBH;YACpB;QACF;QACA,OAAOR;IACT;IAEA,aAAaY,qBAAqBC,QAAgB,EAAE;QAClD,MAAMb,UAAU,MAAMJ,0BAAY,CAACa,OAAO,CAAC;YACzCC,OAAO;gBACLC,kBAAkBE;YACpB;QACF;QACA,OAAOb;IACT;IAEA,aAAac,uBAAuBN,OAAe,EAAET,IAAkB,EAAE;QACvE,MAAM,EAAEgB,IAAG,EAAEC,QAAO,EAAE,GAAGjB;QACzB,MAAMC,UAAU,MAAMJ,0BAAY,CAACqB,MAAM,CACvC;YACEF;YACAC;QACF,GACA;YACEN,OAAO;gBACLC,kBAAkBH;YACpB;QACF;QAEF,OAAOR;IACT;IAEA,aAAakB,wBAAwBL,QAAgB,EAAEd,IAAS,EAAE;QAChE,MAAM,EAAEgB,IAAG,EAAEC,QAAO,EAAE,GAAGjB;QACzB,MAAMC,UAAU,MAAMJ,0BAAY,CAACqB,MAAM,CACvC;YACEF;YACAC;QACF,GACA;YACEN,OAAO;gBACLC,kBAAkBE;YACpB;QACF;QAEF,OAAOb;IACT;IAEA,aAAamB,uBAAuBX,OAAe,EAAE;QACnD,MAAMR,UAAU,MAAMJ,0BAAY,CAACwB,OAAO,CAAC;YACzCV,OAAO;gBACLC,kBAAkBH;YACpB;QACF;QACA,OAAOR;IACT;IAEA,aAAaqB,wBAAwBR,QAAgB,EAAE;QACrD,MAAMb,UAAU,MAAMJ,0BAAY,CAACwB,OAAO,CAAC;YACzCV,OAAO;gBACLC,kBAAkBE;YACpB;QACF;QACA,OAAOb;IACT;IAIA,aAAasB,kBAAkBpB,EAAU,EAAE;QACzC,MAAMF,UAAU,MAAMJ,0BAAY,CAACwB,OAAO,CAAC;YACzCV,OAAO;gBACLR;YACF;QACF;QACA,OAAOF;IACT;AACF"}